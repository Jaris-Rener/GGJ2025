using System;using System.Collections.Generic;using UnityEngine;public class ListingsUI : MonoBehaviour{    [SerializeField] private Transform _notificationsRoot;        [SerializeField] private ListingNotificationUI _notificationUIPrefab;    [SerializeField] private ListingUI _listingPopup;    private readonly List<ListingUI> _instances = new();        public BuildingListing Selected { get; set; }        private void Awake()    {        BuildingManager.Instance.OnListingCreated += AddListing;        BuildingManager.Instance.OnListingRemoved += RemoveListing;    }    private void OnDestroy()    {        BuildingManager.Instance.OnListingCreated -= AddListing;        BuildingManager.Instance.OnListingRemoved -= RemoveListing;    }    private void RemoveListing(BuildingListing listing)    {        var instance = _instances.Find(x => x.Listing == listing);        if (instance == null)            return;                Destroy(instance.gameObject);        _instances.Remove(instance);        if (Selected == listing)        {            Selected = null;            _listingPopup.Hide();        }    }    private void AddListing(BuildingListing listing)    {        var instance = Instantiate(_notificationUIPrefab, _notificationsRoot);        instance.Setup(listing, false);        instance.OnSelected += OnListingSelected;        _instances.Add(instance);    }    private void OnListingSelected(BuildingListing listing)    {        _listingPopup.Setup(listing, true);        Selected = listing;    }}